# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file '.\pyQts\Wclothing.ui'
#
# Created by: PyQt5 UI code generator 5.15.0
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets
import requests
from datetime import date
from PyQt5.QtGui import QPixmap

class Ui_Wclothing(object):
    
    def messages(self, title, message):
        mess = QtWidgets.QMessageBox()
        mess.setWindowTitle(title)
        mess.setText(message)
        mess.setStandardButtons(QtWidgets.QMessageBox.Ok)
        mess.exec_()
        
    
    def predict_cloth(self):
        try:
            
            if self.temp_ <= 15:
                self.messages("result", "there is a very low temperature \n\n Our Advice: \n Make sure you use sweat-shirts with hoods and covered shoes to stay warm\
                              \n\n Click OK to view our suggestion" )
                self.lbl_img1.setPixmap(QtGui.QPixmap("img/img_cold1.jpg"))
                self.lbl_img1.setScaledContents(True)
                
                self.lbl_img2.setPixmap(QtGui.QPixmap("img/img_cold4.jpg"))
                self.lbl_img2.setScaledContents(True)
                
            elif self.temp_ > 15 and self.temp_ <= 25:
                self.messages("result", "there is low temperature\n\n Our Advice: \n Avoid light clothes. \n Make use of Jackets and shoes\
                              \nA Wool Overcoat. ...\nBoots. ...\nSelvedge Denim Jeans. ... \n\n Click OK to view our suggestion")
                
                self.lbl_img1.setPixmap(QtGui.QPixmap("img/img_cold5.jpg"))
                self.lbl_img1.setScaledContents(True)
                
                self.lbl_img2.setPixmap(QtGui.QPixmap("img/img_cold2.jpg"))
                self.lbl_img2.setScaledContents(True)
            
            elif self.temp_ > 25 and self.temp_ <= 32:
                self.messages("result", "the temperature is mid-high, which is still normal \n\n Our Advice: \n with this weather you can put on any type of cloth you love\
                              \n\n Click OK to view our suggestion")
                self.lbl_img1.setPixmap(QtGui.QPixmap("img/img_hot1.jpg"))
                self.lbl_img1.setScaledContents(True)
                
                self.lbl_img2.setPixmap(QtGui.QPixmap("img/img_hot3.jpg"))
                self.lbl_img2.setScaledContents(True)
                
                
            else:
                
                self.messages("result", "Its a very high temperature today \n\n Our Advice: \n Put on a very light cloth. \n Avoid jacket\n\n Click OK to view our suggestion.")
                self.lbl_img1.setPixmap(QtGui.QPixmap("img/img_hot4.jpg"))
                self.lbl_img1.setScaledContents(True)
                
                self.lbl_img2.setPixmap(QtGui.QPixmap("img/img_hot3.jpg"))
                self.lbl_img2.setScaledContents(True)
        except:
            self.messages("error", "make sure you have network connection")
            
        
    def setupUi(self, Wclothing):
        url = "https://v1.nocodeapi.com/viczik/ow/HimLqesLIzaQuJEo/byCityName?q=Lagos, NG"
        params = {}
        r = requests.get(url = url, params = params)
        self.result = r.json()
        
        temp = self.result['main']['temp_max']
        Humidity = self.result['main']['humidity']
        
        self.temp_ = round(int(temp)-270, 1)
        
        self.temp = (str(self.temp_)+chr(176)+"C")
        self.hum = str(Humidity)
        
        today = date.today()
        self.today = str(today)
        
        Wclothing.setObjectName("Wclothing")
        Wclothing.resize(719, 329)
        self.lbl_bg = QtWidgets.QLabel(Wclothing)
        self.lbl_bg.setGeometry(QtCore.QRect(0, 0, 721, 331))
        self.lbl_bg.setText("")
        self.lbl_bg.setObjectName("lbl_bg")
        self.lbl_bg.setPixmap(QtGui.QPixmap("img/img_temp4.jpg"))
        self.lbl_bg.setScaledContents(True)
        
        self.pushButton = QtWidgets.QPushButton(Wclothing)
        self.pushButton.setGeometry(QtCore.QRect(240, 120, 241, 71))
        font = QtGui.QFont()
        font.setFamily("Century Gothic")
        font.setPointSize(11)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton.setFont(font)
        self.pushButton.setObjectName("pushButton")
        self.pushButton.clicked.connect(self.predict_cloth)
        
        self.lbl_img1 = QtWidgets.QLabel(Wclothing)
        self.lbl_img1.setGeometry(QtCore.QRect(10, 10, 211, 311))
        self.lbl_img1.setObjectName("lbl_img1")
        self.lbl_img1.setPixmap(QPixmap("img/img_temp2.jpg"))
        
        self.lbl_img2 = QtWidgets.QLabel(Wclothing)
        self.lbl_img2.setGeometry(QtCore.QRect(500, 10, 211, 311))
        self.lbl_img2.setObjectName("lbl_img2")
        self.lbl_img2.setPixmap(QPixmap("img/img_temp2.jpg"))
        
        self.lbl_weather = QtWidgets.QLabel(Wclothing)
        self.lbl_weather.setGeometry(QtCore.QRect(240, 10, 241, 101))
        self.lbl_weather.setText("")
        self.lbl_weather.setObjectName("lbl_weather")
        
        self.lblWea = QtWidgets.QLabel(Wclothing)
        self.lblWea.setGeometry(QtCore.QRect(270, 20, 81, 41))
        font = QtGui.QFont()
        font.setFamily("Tw Cen MT")
        font.setPointSize(16)
        font.setBold(True)
        font.setWeight(75)
        self.lblWea.setFont(font)
        self.lblWea.setAlignment(QtCore.Qt.AlignCenter)
        self.lblWea.setObjectName("lblWea")
        
        self.lblHum = QtWidgets.QLabel(Wclothing)
        self.lblHum.setGeometry(QtCore.QRect(280, 60, 51, 31))
        font = QtGui.QFont()
        font.setFamily("Tw Cen MT")
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.lblHum.setFont(font)
        self.lblHum.setAlignment(QtCore.Qt.AlignCenter)
        self.lblHum.setObjectName("lblHum")
        self.lblDate = QtWidgets.QLabel(Wclothing)
        self.lblDate.setGeometry(QtCore.QRect(370, 30, 101, 61))
        font = QtGui.QFont()
        font.setFamily("Myanmar Text")
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.lblDate.setFont(font)
        self.lblDate.setAlignment(QtCore.Qt.AlignCenter)
        self.lblDate.setObjectName("lblDate")
        self.lblDate.setText(str(today))
        self.lblDate.setStyleSheet("color: purple")

        self.retranslateUi(Wclothing)
        QtCore.QMetaObject.connectSlotsByName(Wclothing)

    def retranslateUi(self, Wclothing):
        _translate = QtCore.QCoreApplication.translate
        Wclothing.setWindowTitle(_translate("Wclothing", "WeaClothing"))
        self.pushButton.setText(_translate("Wclothing", "WHAT CAN I WEAR?"))
        self.lblWea.setText(_translate("Wclothing", self.temp))
        self.lblHum.setText(_translate("Wclothing", self.hum))
        self.lblDate.setText(_translate("Wclothing", self.today))


if __name__ == "__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    Wclothing = QtWidgets.QDialog()
    ui = Ui_Wclothing()
    ui.setupUi(Wclothing)
    Wclothing.show()
    sys.exit(app.exec_())
