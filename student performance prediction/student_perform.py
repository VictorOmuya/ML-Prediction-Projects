# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file '.\pyQts\student_perform.ui'
#
# Created by: PyQt5 UI code generator 5.15.0
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets
from PyQt5.QtCore import QPropertyAnimation, QRect
from PyQt5.QtGui import QPixmap
from func2 import *
import func2
import pandas as pd
import pickle


class Ui_Dialog(object):
    
    def errorbox(self, title, message):
        mess = QtWidgets.QMessageBox()
        mess.setWindowTitle(title)
        mess.setText(message)
        mess.setStandardButtons(QtWidgets.QMessageBox.Ok)
        mess.exec_()
    
    def predictor(self):
        try:
            
            bg = func2.input_data(self.comboBox)
            gen = func2.input_data2(self.comboBox_8)
            st = func2.input_data3(self.comboBox_9)
            el = func2.input_data4(self.comboBox_6)
            sec = func2.input_data5(self.comboBox_3)
            rom = func2.input_data6(self.comboBox_11)
            sup = func2.input_data7(self.comboBox_4)
            hlt = func2.input_data8(self.comboBox_12)
            fam = func2.input_data9(self.comboBox_7)
            net = func2.input_data10(self.comboBox_10)
            ext = func2.input_data11(self.comboBox_5)
            par = func2.input_data12(self.comboBox_2)
                
            table = pd.DataFrame([[bg, gen, fam, par,st, el,sup, ext, sec, net, rom, hlt]], columns = ['Background','Gender',
                'Famsize', 'PStatus', 'Studytime', 'Extra Lessons',
                'Famsup', 'Activities', 'Sec Sch bg','Internet', 'Romantic', 'Health'])
             
            model = pickle.load(open("themodel2.sav", "rb"))
                
            if self.comboBox_12.currentText() == "Very Bad":
                self.errorbox("prediction", "PASS!")
                    
            else :
                prediction = model.predict(table)
                for a in prediction:
                    a = str(a)
                    if a == "0":
                        self.errorbox("prediction", "PASS!")
                    elif a =="1":
                        self.errorbox("prediction", "LOWER DIVISION!")
                    elif a == "2":
                        self.errorbox("prediction", "LOWER DIVISION!")
                    elif a == "3":
                        self.errorbox("prediction", "UPPER DIVISION!")
                    elif a == "4":
                        self.errorbox("prediction", "DISTINCTION!")
        except:
            
            self.errorbox("error", "There is a problem. Please make sure all fields are entered correctly!")
    
    def setupUi(self, Dialog):
        Dialog.setObjectName("Dialog")
        Dialog.resize(622, 361)
        self.label = QtWidgets.QLabel(Dialog)
        self.label.setGeometry(QtCore.QRect(0, 0, 531, 531))
        self.label.setText("")
        self.label.setObjectName("label")
        self.lbl_back = QtWidgets.QLabel(Dialog)
        self.lbl_back.setGeometry(QtCore.QRect(180, 0, 261, 361))
        self.lbl_back.setText("")
        self.lbl_back.setObjectName("lbl_back")
        self.lbl_back.setPixmap(QPixmap("stud1.jpg"))
        self.lbl_back.setScaledContents(True)
        
        self.comboBox = QtWidgets.QComboBox(Dialog)
        self.comboBox.setGeometry(QtCore.QRect(10, 150, 171, 22))
        self.comboBox.setObjectName("comboBox")
        self.comboBox.addItem("Urban")
        self.comboBox.addItem("Rural")
        
        self.comboBox_2 = QtWidgets.QComboBox(Dialog)
        self.comboBox_2.setGeometry(QtCore.QRect(10, 90, 171, 22))
        self.comboBox_2.setObjectName("comboBox_2")
        self.comboBox_2.addItem("Living Together")
        self.comboBox_2.addItem("Seperated")
        
        self.comboBox_3 = QtWidgets.QComboBox(Dialog)
        self.comboBox_3.setGeometry(QtCore.QRect(10, 30, 171, 22))
        self.comboBox_3.setObjectName("comboBox_3")
        self.comboBox_3.addItem("HND 2")
        self.comboBox_3.addItem("HND 1")
        self.comboBox_3.addItem("ND 2")
        self.comboBox_3.addItem("ND 1")
        self.comboBox_3.setStyleSheet("color: rgb(255, 255, 255);\n"
"background-color: rgb(0, 121, 182);")
        
        self.comboBox_4 = QtWidgets.QComboBox(Dialog)
        self.comboBox_4.setGeometry(QtCore.QRect(10, 210, 171, 22))
        self.comboBox_4.setObjectName("comboBox_4")
        self.comboBox_4.addItem("Yes")
        self.comboBox_4.addItem("No")
        
        self.comboBox_5 = QtWidgets.QComboBox(Dialog)
        self.comboBox_5.setGeometry(QtCore.QRect(10, 270, 171, 22))
        self.comboBox_5.setObjectName("comboBox_5")
        self.comboBox_5.addItem("Yes")
        self.comboBox_5.addItem("No")
        
        self.comboBox_6 = QtWidgets.QComboBox(Dialog)
        self.comboBox_6.setGeometry(QtCore.QRect(10, 330, 171, 22))
        self.comboBox_6.setObjectName("comboBox_6")
        self.comboBox_6.addItem("Yes")
        self.comboBox_6.addItem("No")
        
        self.comboBox_7 = QtWidgets.QComboBox(Dialog)
        self.comboBox_7.setGeometry(QtCore.QRect(440, 330, 171, 22))
        self.comboBox_7.setObjectName("comboBox_7")
        self.comboBox_7.addItem("Greater Than 3")
        self.comboBox_7.addItem("Not More Than 3")
        
        self.comboBox_8 = QtWidgets.QComboBox(Dialog)
        self.comboBox_8.setGeometry(QtCore.QRect(440, 90, 171, 22))
        self.comboBox_8.setObjectName("comboBox_8")
        self.comboBox_8.addItem("Male")
        self.comboBox_8.addItem("Female")
        
        self.comboBox_9 = QtWidgets.QComboBox(Dialog)
        self.comboBox_9.setGeometry(QtCore.QRect(440, 30, 171, 22))
        self.comboBox_9.setObjectName("comboBox_9")
        self.comboBox_9.addItem("4 and above")
        self.comboBox_9.addItem("3")
        self.comboBox_9.addItem("2")
        self.comboBox_9.addItem("1")
        
        self.comboBox_10 = QtWidgets.QComboBox(Dialog)
        self.comboBox_10.setGeometry(QtCore.QRect(440, 210, 171, 22))
        self.comboBox_10.setObjectName("comboBox_10")
        self.comboBox_10.addItem("Yes")
        self.comboBox_10.addItem("No")
        
        self.comboBox_11 = QtWidgets.QComboBox(Dialog)
        self.comboBox_11.setGeometry(QtCore.QRect(440, 150, 171, 22))
        self.comboBox_11.setObjectName("comboBox_11")
        self.comboBox_11.addItem("Yes")
        self.comboBox_11.addItem("No")
        
        self.comboBox_12 = QtWidgets.QComboBox(Dialog)
        self.comboBox_12.setGeometry(QtCore.QRect(440, 270, 171, 22))
        self.comboBox_12.setObjectName("comboBox_12")
        self.comboBox_12.addItem("Excellent")
        self.comboBox_12.addItem("Very Good")
        self.comboBox_12.addItem("Good")
        self.comboBox_12.addItem("Bad")
        self.comboBox_12.addItem("Very Bad")
        
        self.pushButton = QtWidgets.QPushButton(Dialog)
        self.pushButton.setGeometry(QtCore.QRect(240, 140, 141, 71))
        font = QtGui.QFont()
        font.setFamily("Arial Black")
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.pushButton.setFont(font)
        self.pushButton.setObjectName("pushButton")
        self.pushButton.clicked.connect(self.predictor)
        
        
        self.label_3 = QtWidgets.QLabel(Dialog)
        self.label_3.setGeometry(QtCore.QRect(10, 10, 171, 16))
        self.label_3.setObjectName("label_3")
        self.label_4 = QtWidgets.QLabel(Dialog)
        self.label_4.setGeometry(QtCore.QRect(10, 70, 171, 16))
        self.label_4.setObjectName("label_4")
        self.label_5 = QtWidgets.QLabel(Dialog)
        self.label_5.setGeometry(QtCore.QRect(10, 130, 171, 16))
        self.label_5.setObjectName("label_5")
        self.label_6 = QtWidgets.QLabel(Dialog)
        self.label_6.setGeometry(QtCore.QRect(10, 190, 171, 16))
        self.label_6.setObjectName("label_6")
        self.label_7 = QtWidgets.QLabel(Dialog)
        self.label_7.setGeometry(QtCore.QRect(10, 250, 171, 16))
        self.label_7.setObjectName("label_7")
        self.label_8 = QtWidgets.QLabel(Dialog)
        self.label_8.setGeometry(QtCore.QRect(10, 310, 171, 16))
        self.label_8.setObjectName("label_8")
        self.label_9 = QtWidgets.QLabel(Dialog)
        self.label_9.setGeometry(QtCore.QRect(440, 130, 171, 16))
        self.label_9.setObjectName("label_9")
        self.label_10 = QtWidgets.QLabel(Dialog)
        self.label_10.setGeometry(QtCore.QRect(440, 10, 171, 16))
        self.label_10.setObjectName("label_10")
        self.label_11 = QtWidgets.QLabel(Dialog)
        self.label_11.setGeometry(QtCore.QRect(440, 250, 171, 16))
        self.label_11.setObjectName("label_11")
        self.label_12 = QtWidgets.QLabel(Dialog)
        self.label_12.setGeometry(QtCore.QRect(440, 190, 171, 16))
        self.label_12.setObjectName("label_12")
        self.label_13 = QtWidgets.QLabel(Dialog)
        self.label_13.setGeometry(QtCore.QRect(440, 310, 171, 16))
        self.label_13.setObjectName("label_13")
        self.label_14 = QtWidgets.QLabel(Dialog)
        self.label_14.setGeometry(QtCore.QRect(440, 70, 171, 16))
        self.label_14.setObjectName("label_14")

        self.retranslateUi(Dialog)
        QtCore.QMetaObject.connectSlotsByName(Dialog)

    def retranslateUi(self, Dialog):
        _translate = QtCore.QCoreApplication.translate
        Dialog.setWindowTitle(_translate("Dialog", "performance"))
        self.pushButton.setText(_translate("Dialog", "SEND"))
        self.label_3.setText(_translate("Dialog", "LEVEL"))
        self.label_4.setText(_translate("Dialog", "Parent marital status"))
        self.label_5.setText(_translate("Dialog", "Secondary school background"))
        self.label_6.setText(_translate("Dialog", "Family support"))
        self.label_7.setText(_translate("Dialog", "Extra curriculum sctivities"))
        self.label_8.setText(_translate("Dialog", "Extra lessons"))
        self.label_9.setText(_translate("Dialog", "Romantic relationship"))
        self.label_10.setText(_translate("Dialog", "Maximum study time in hours"))
        self.label_11.setText(_translate("Dialog", "Health status"))
        self.label_12.setText(_translate("Dialog", "Internet access"))
        self.label_13.setText(_translate("Dialog", "Family size"))
        self.label_14.setText(_translate("Dialog", "Gender"))


if __name__ == "__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    Dialog = QtWidgets.QDialog()
    ui = Ui_Dialog()
    ui.setupUi(Dialog)
    Dialog.show()
    sys.exit(app.exec_())
